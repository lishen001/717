```
npm i // 安装依赖
```

```
cd server

node server // 启动静态服务器
```

```
npm run dev // 启动本地服务
```

# 电商网站项目练习

  1.页面
    首页
    分类列表页
    搜索页
    详情页
    分类页
    购物车
    我的
      登录
      注册
    邮寄地址管理
      添加
      邮寄地址列表
    订单管理页

  2.common组件封装

    弹出框

    轮播图模块

    商品模块

    筛选模块

    购物车商品模块

    邮寄地址模块

  3.技术选型

    React,redux,react-router,react-redux,redux-sage

    mobile端，自适应

    fetch,封装

    用node搭建一个简单的静态服务器，准备一定的模拟接口。

    脚手架：webpack,自行搭建可以切换不同环境的脚手架。

  4.项目开发流程

    产品经理给出项目需求（也有可能是客户的要求）--需求说明会（分工，评估工时）

    由产品经理或者UE出产品原型

    由UI设计根据原型出设计图 | 后端开始搭建数据库，开发接口

    前端开始实现页面布局，功能

    前端和后端进行联调，调试接口是否正常，前端页面是否正常

    测试人员介入进行黑盒或白盒测试，提BUG

    开发人员解决BUG，打包上线

    产品完成

## 登录注册流程

  登录：
    1.前端收集用户名，密码，传给后台
    2.后台在数据库中查找前端传来的信息，如果存在就可以继续，否则返回错误信息
    3.后台根据用户名和密码生成秘钥token(key_code)，把token传给前端
  
  注册：
    1.前端收集用户名，密码，传给后台
    2.后端将数据存到指定数据库中
    3.只返回一个成功的信息


# 717电商网站项目总结

  分析项目基本结构及功能要求

  ## 搭建脚手架

    编写webpack基本配置,
    设置process.env.NODE_ENV进行开发环境和线上环境的判断分离，
    搭建基本目录如src以及package.json文件等

  ## 配置路由

    对路由设置封装成 Routed common组件 
    如果有子路由就传递子路由信息给component
    Routed根据传递接收到的信息创建子路由
    对后期添加路由及维护做铺垫 可复用
    创建基本组件实现路由跳转
    如果路由需要权限，就添加字段 authorization: true
    跳转路由时对 authorization 进行判断权限管理


  ## 全面观察每个页面图标并下载相应图标到src下的static静态资源文件夹

  ## 用nodejs搭建一个静态服务器，准备一定的模拟接口。

    功能及请求方式的封装

  ## 主页基本数据请求及页面排版

    common组件的封装如轮播图等
    利用onScroll react合成事件实现下拉请求数据  按需加载

  ## 搜索详情页

    本地存储是否有历史搜索记录数据
    根据本地存储的数据渲染页面
    根据输入内容或点击历史搜索记录向后台请求数据
    把输入内容存储至本地存储localstorage中，
    后台根据接收到的参数返回相应数据

  ## 登录注册 ##

    点击首页列表内的购物车判断用户是否登录（权限管理）
    书写登录注册页面
    登录
      1. 前端收集用户名，密码，传给后台
      2. 后台在数据库中查找前端传来的信息，如果存在就可以继续，否则返回错误信息
      3. 后台根据用户名和密码生成秘钥token(key_code)，把token传给前端
    注册
      1. 前端收集用户名，密码，传给后台
      2. 后端将数据存到指定数据库中
      3. 只返回一个成功的信息
    如果用户未登录则提示用户登录并跳转路由至登录页
    如果用户处于登录状态则向后台发送点击的商品id以及token字段
    后台根据接收到的商品id和token字段：读取此用户在数据库内的信息；有此商品信息则追加count,没有此商品信息则追加此商品信息的数据
  
  ## 分类页

    进入分类页就向后端请求相应数据利用react的生命周期componentDidMount
    根据请求到的数据渲染页面

  ## 购物车页（权限管理)

    1. 进入购物车要判断是否登录（非登录状态重定向，跳转到登录路由）
    2. 进入购物车后去服务器请求购物车的数据，根据相应"身份"就是token,需要加loading
    3. 将购物车的数据存到store中
    4. 功能性效果，比如加减和选中商品，都是同store的数据管理的在请求回来的数据中追加字段count和selected,为了实现数据驱动视图的目的，实现前端的显示效果
    5. 编辑，删除 请求后端接口传要删除的商品的id以及token，删除成功后返回成功的信息和更新后的购物车数据，前端再根据数据更新store
    6. 结算 =》跳转支付平台
  
  ## 我的页面（权限管理）

    判断用户是否登录（非登录状态重定向，跳转到登录路由）
    根据token请求用户基本信息，渲染页面
    设置：
      跳转路由到设置页面并传递用户的一些信息
      退出登录：
        使token失效
        ```js
        export const loginOut=()=>{
          let t = new Date()
          t.setTime(t.getTime()-1)
          document.cookie='token='+getCookie('token')+';expires='+t.toUTCString()
        }
        ```
    地址管理：
      请求用户地址列表信息渲染页面
      新增地址：
        跳转至新增收货人页面
          请求地址数据并渲染（三级联动）
        输入收货人信息及地址保存
          向后台发送新增地址
          更新此用户地址列表信息
          跳转路由至收货地址页
